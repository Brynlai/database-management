-- Step 1: Delete from STAFFALLOCATION table first
DELETE FROM STAFFALLOCATION WHERE staff_id IN (
    SELECT staff_id FROM Staff WHERE email LIKE '%example.com'
);

-- Step 2: Delete from RENTALCOLLECTION table  
DELETE FROM RENTALCOLLECTION WHERE staff_id IN (
    SELECT staff_id FROM Staff WHERE email LIKE '%example.com'
);

-- Step 3: Now delete from Staff table
DELETE FROM Staff WHERE email LIKE '%example.com';

COMMIT;